diff a/application/models/Providers_model.php b/application/models/Providers_model.php	(rejected hunks)
@@ -319,13 +319,15 @@
         foreach ($settings as $name => $value) {
             // Sort working plans exceptions in descending order that they are easier to modify later on.
             if ($name === 'working_plan_exceptions') {
-                $value = json_decode($value, true);
+                // $value = json_decode($value, true);
+                if (is_string($value)) $value = json_decode($value, true);
 
                 if (!$value) {
                     $value = [];
                 }
 
-                krsort($value);
+                // krsort($value);
+                if (is_array($value)) krsort($value);
 
                 $value = json_encode(empty($value) ? new stdClass() : $value);
             }
